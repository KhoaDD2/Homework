package com.mobisec.keyboard_attack;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.util.Log;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.stream.Collectors;

public class MainActivity extends AppCompatActivity {
    private final static String TAG = "MOBISEC";

    private String runCmd(String cmd) {
        try {
            Process process = Runtime.getRuntime().exec(cmd);
            BufferedReader bufferedReader = new BufferedReader(
                    new InputStreamReader(process.getInputStream()));
            String out = bufferedReader.lines().collect(Collectors.joining("\n"));
            return out;
        } catch (Exception e) {
            Log.e(TAG, "E : " + e);
        }
        return "";
    }
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.d(TAG,"Hello word " + BuildConfig.VERSION_CODE);
        Log.d(TAG, "Run cmd out : " + runCmd("run-as com.mobisec.keyboard"));
        Log.d(TAG, "Run cmd out : " + runCmd("ls -lrt"));

    }
}